import 'package:pure_live/core/common/core_log.dart';
import 'package:pure_live/plugins/extension/string_extension.dart';

/// å¼¹å¹•ä¿¡æ¯è½¬ä¹‰
final class DanmakuMessageUtil {
  static String handleMessage(String? txt) {
    if (txt.isNullOrEmpty) {
      return "";
    }
    var tmpText = txt ?? "";
    var regExp = RegExp(r"\[([^\]]+)\]");
    var replaceText = tmpText.replaceAllMapped(regExp, (match) {
      var allTxt = match.group(0) ?? "";
      var txt = match.group(1);
      var emojiText = emojiMap[txt];
      if (emojiText.isNullOrEmpty) {
        CoreLog.d("un match: $txt");
        return allTxt;
      }
      return emojiText ?? allTxt;
    });
    return replaceText;
  }

  static Map<String, String> get emojiMap {
    Map<String, String> map = {
      "å¤§ç¬‘": "ğŸ˜†",
      "è‹¦ç¬‘": "ğŸ˜…",
      "éœ‡æƒŠ": "ğŸ˜²",
      "éƒé—·": "ğŸ«¤",
      "ç”Ÿæ°”": "ğŸ˜ ",
      "å‚²æ…¢": "ğŸ˜¤",
      "å®³æ€•": "ğŸ˜¨",
      "æµæ³ª": "ğŸ˜¢",
      "å›°å€¦": "ğŸ˜ª",
      "ä¸å±‘": "ğŸ™„",
      "æ€è€ƒ": "ğŸ¤”",
      "å¾—æ„": "ğŸ˜",
      "é—­å˜´": "ğŸ¤",
      "å°´å°¬": "ğŸ˜³",
      "æ— è¯­": "ğŸ˜‘",
      "æŒ¥æ‰‹": "ğŸ‘‹",
      "æŠ±æŠ±": "ğŸ¤—",
      "ä¸¾æ‰‹": "âœ‹",
      "æ¯”å¿ƒ": "â¤ï¸",
      "é¼“æŒ": "ğŸ‘",
      "è‡´æ•¬": "ğŸ«¡",
      "æ‚å˜´": "ğŸ«£",
      "å·çœ‹": "ğŸ«¢",
      "é—­çœ¼": "ğŸ˜",
      "çœ¨çœ¼": "ğŸ‘€",
      "åŒ»ç”Ÿ": "ğŸ‘¨â€âš•ï¸",
      "å­¦ç”Ÿ": "ğŸ‘¨â€ğŸ“",
      "è€å¸ˆ": "ğŸ‘¨â€ğŸ«",
      "å¨å¸ˆ": "ğŸ‘¨â€ğŸ³",
      "è­¦å¯Ÿ": "ğŸ‘®â€â™‚ï¸",
      "å·¥äºº": "ğŸ‘¨â€ğŸ­",
      "ç§‘å­¦å®¶": "ğŸ‘¨â€ğŸ”¬",
      "ç¨‹åºå‘˜": "ğŸ‘¨â€ğŸ’»",
      "æ­Œæ‰‹": "ğŸ‘¨â€ğŸ¤",
      "è‰ºæœ¯å®¶": "ğŸ‘¨â€ğŸ¨",
      "é›¨": "ğŸŒ§ï¸",
      "é›ª": "ğŸŒ¨ï¸",
      "é£": "ğŸ’¨",
      "é—ªç”µ": "âš¡",
      "å½©è™¹": "ğŸŒˆ",
      "æ³¢æµª": "ğŸŒŠ",
      "ç«ç„°": "ğŸ”¥",
      "äº‘": "â˜ï¸",
      "å¤ªé˜³": "â˜€ï¸",
      "æœˆäº®": "ğŸŒ•",
      "ç±³é¥­": "ğŸš",
      "é¢æ¡": "ğŸœ",
      "é¥ºå­": "ğŸ¥Ÿ",
      "æœˆé¥¼": "ğŸ¥®",
      "è›‹ç³•": "ğŸ‚",
      "ç³–æœ": "ğŸ¬",
      "å’–å•¡": "â˜•",
      "èŒ¶": "ğŸµ",
      "å•¤é…’": "ğŸº",
      "ç­·å­": "ğŸ¥¢",
      "çº¢åŒ…": "ğŸ§§",
      "é­ç‚®": "ğŸ§¨",
      "ç¯ç¬¼": "ğŸ®",
      "çƒŸèŠ±": "ğŸ‡",
    };
    map["èµ"] = "ğŸ‘ï¸";
    map["æ¯”å¿ƒ"] = "ğŸ’•";
    map["çˆ±å¿ƒ"] = "â¤";
    map["å¿ƒ"] = "â¤";
    map["é¼“æŒ"] = "ğŸ‘";
    map["å¤ªé˜³"] = "â˜€ï¸";
    map["é¾‡ç‰™"] = "ğŸ˜¬";
    map["å‘²ç‰™"] = "ğŸ˜¬";
    map["æ‚è„¸"] = "ğŸ«¢";
    map["æ„Ÿè°¢"] = "ğŸ«‚";
    map["çœ‹"] = "ğŸ‘ï¸";
    map["ç«ç‘°"] = "ğŸŒ¹";

    map["èƒœåˆ©"] = "âœŒï¸";
    map["äº’ç²‰"] = "ğŸ©·";
    map["æµæ³ª"] = "ğŸ˜­";
    map["æ‹³å¤´"] = "âœŠ";

    map["åŠ ä¸€"] = "ğŸ‘";
    map["äº’ç²‰"] = "ğŸ©·";

    map["ä¸€èµ·åŠ æ²¹"] = "ğŸ’ª";
    map["åŠ æ²¹"] = "ğŸ’ª";
    map["ç–‘é—®"] = "â“";

    map["éš¾è¿‡"] = "ğŸ˜";
    map["æ±‚æ±‚äº†"] = "ğŸ™";
    map["æ‰“call"] = "ğŸ¤™";
    map["666"] = "ğŸ¤™";

    map["ç¦"] = "ãŠ—";

    map["äº²äº²"] = "ğŸ˜˜";
    map["kiss"] = "ğŸ˜˜";
    map["kisskiss"] = "ğŸ˜˜";
    map["çµæœºä¸€åŠ¨"] = "ğŸ’¡";

    map["åº†ç¥"] = "ğŸ‰";
    map["ç™¼"] = "ğŸ¤‘";
    map["å‘"] = "ğŸ¤‘";
    map["é£å»"] = "ğŸ˜˜";
    map["å¤§ç¬‘"] = "ğŸ˜„";
    map["å¾®ç¬‘"] = "ğŸ˜Š";
    map["æ— è¯­"] = "ğŸ˜‘";
    map["ç¿»ç™½çœ¼"] = "ğŸ™„";
    map["æŠ•é™"] = "ğŸ™Œ";

    map["æ¥çœ‹æˆ‘"] = "ğŸ‘ï¸";
    map["å‘†æ— è¾œ"] = "ğŸ˜¦";
    map["å¼€å¿ƒ"] = "ğŸ˜„";
    map["å¥½å¼€å¿ƒ"] = "ğŸ˜„";
    map["æ„‰å¿«"] = "ğŸ˜„";

    map["æŠ±æŠ±ä½ "] = "ğŸ«‚";

    map["ç™½çœ¼"] = "ğŸ™„";
    map["ç¿»ç™½çœ¼"] = "ğŸ™„";
    map["çº¸é£æœº"] = "âœˆ";
    map["å•¤é…’"] = "ğŸº";
    map["ææƒ§"] = "ğŸ˜¨";
    map["å¼±"] = "ğŸ«¥";
    map["è€¶"] = "âœŒ";
    map["æ‚ é—²"] = "ğŸ•¶";
    map["è‰²"] = "ğŸ˜";
    map["åŠ¨åŠ¨è„‘å­"] = "ğŸ§ ";
    map["candy"] = "ğŸ¬";
    map["æ‰å¿ƒ"] = "ğŸ’”";
    map["å¾—æ„"] = "ğŸ˜";
    map["é€å¿ƒ"] = "ğŸ’";
    map["OK"] = "ğŸ‘Œ";
    map["æ†¨ç¬‘"] = "æ†¨ç¬‘";
    map["æ¡çˆª"] = "ğŸ¤";
    map["æ‘¸å¤´"] = "ğŸ«³ğŸ¾";
    map["ç»™è·ªäº†"] = "ğŸ§â€â™‚ï¸";
    map["ç»™è·ªäº†"] = "ğŸ™";
    map["ä¸å¤±ç¤¼è²Œçš„å¾®ç¬‘"] = "ğŸ˜Š";
    map["å’–å•¡"] = "â˜•";
    map["ä¸çœ‹"] = "ğŸ™ˆ";
    map["æƒŠæ"] = "ğŸ˜²";
    map["æˆ‘æƒ³é™é™"] = "ğŸ¤«";
    map["å’’éª‚"] = "ğŸ¤¬";
    map["è¡¨é¢å‘²ç‰™"] = "ğŸ˜¬";
    map["èººå¹³"] = "ğŸ›Œ";
    map["å¹´å…½å…”"] = "ğŸ‡";
    map["æ‰“è„¸"] = "ğŸ¤¦";
    map["å°é»„é¸­"] = "ğŸ¦†";
    map["ç³–è‘«èŠ¦"] = "ğŸ­"; //ï¼Ÿ
    map["å‡è§†"] = "ğŸ‘";
    map["èˆ”å±"] = "ğŸ‘…";
    map["ä¸çœ‹"] = "ğŸ™ˆ";
    map["åè¡€"] = "ğŸ¤®";
    map["äºšè¿é¼“æŒ"] = "ğŸ‘";
    map["å°é¼“æŒ"] = "ğŸ‘";
    map["æ€è€ƒ"] = "ğŸ¤”";
    map["å‡‹è°¢"] = "ğŸ¥€";
    map["çƒŸèŠ±"] = "ğŸ‡";
    map["æƒŠè®¶"] = "ğŸ˜®";
    map["å¤§å“­"] = "ğŸ˜­";
    map["å“­"] = "ğŸ˜­";
    map["å“­æ³£"] = "ğŸ˜­";
    map["åç¬‘"] = "ğŸ˜†";
    map["å®³ç¾"] = "ğŸ˜³";
    map["å¬æ­Œ"] = "ğŸ¶";
    map["å†è§"] = "ğŸ‘‹";
    map["è¡°"] = "ğŸ˜¥";
    map["æ’’èŠ±"] = "ğŸŠ";
    map["å±"] = "ğŸ’©";
    map["æ¡æ‰‹"] = "ğŸ¤";
    map["åå½©è™¹"] = "ğŸŒˆ";
    map["åƒç“œç¾¤ä¼—"] = "ğŸ‰";
    map["å°¬ç¬‘"] = "ğŸ˜‚";
    map["å¹²æ¯"] = "ğŸ»";
    map["æ“¦æ±—"] = "ğŸ˜°";
    map["ç¤¼ç‰©"] = "ğŸ";
    map["å‘æ€’"] = "ğŸ˜¡";
    map["ç¯ç¬¼"] = "ğŸ®";
    map["æ±‚æŠ±æŠ±"] = "ğŸ¤—";
    map["ç¬‘å“­"] = "ğŸ¤£";
    map["å·§å…‹åŠ›"] = "ğŸ«";
    map["æŠ“ç‹‚"] = "ğŸ¤ª";
    map["æ°”çƒ"] = "ğŸˆ";
    map["äºŒå“ˆ"] = "ğŸ•";
    map["é—­å˜´"] = "ğŸ¤";
    map["æ•¢æ€’ä¸æ•¢è¨€"] = "ğŸ«¢";
    map["ç»™åŠ›"] = "ğŸ¤™";
    map["iloveyou"] = "â¤ï¸";

    // map["æŠ é¼»"] = "ğŸ‘";
    // map["æŠ é¼»"] = "ğŸ‘";
    return map;
  }
}
